<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글 작성</title>
</head>
<body>
    <h1>글 작성하기</h1>
    <form id="postForm">
        <label for="title">제목:</label><br>
        <input type="text" id="title" name="title"><br>
        <label for="content">내용:</label><br>
        <textarea id="content" name="content"></textarea><br><br>
        <button type="button" onclick="submitForm()">작성 완료</button> <!-- 수정된 부분 -->
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function submitForm() {
            var title = $('#title').val();
            var content = $('#content').val();

            // 데이터가 비어있는지 확인
            if (!title.trim() || !content.trim()) {
                alert('제목과 내용을 모두 입력해주세요.');
                return;
            }

            var formData = {
                title: title,
                content: content
            };

            // 백엔드 서버로 데이터 전송
            $.ajax({
                type: 'POST',
                url: 'http://localhost:3000/post',
                contentType: 'application/json',
                data: JSON.stringify(formData),
                success: function(response) {
                    alert('글이 성공적으로 전송되었습니다!');
                    // 성공 시 추가 작업 수행
                },
                error: function(err) {
                    console.error('글 전송 중 오류 발생:', err);
                    alert('글 전송 중 오류가 발생했습니다. 다시 시도해주세요.');
                }
            });
        }
    </script>
</body>
</html>
